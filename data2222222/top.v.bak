module top(rst,clk,rw,rs,en,data,key1,key2,key3);
input clk,rst;
input key1,key2,key3;
output rs,en,rw;
output [7:0] data;
reg key1_out,key2_out,key3_out;

date U1
(.clk(clk), .rst(rst),.rs(rs),.en(en),.rw(rw),.data(data),.key1(key1_out),.key2(key2_out),.key3(key3_out));
wire clk,rst;
wire rs,en,rw;
wire [7:0] data;


//=============key1，key2,key3 按键防抖动================//
reg key1_reg1,key1_reg2;
reg key2_reg1,key2_reg2;
reg key3_reg1,key3_reg2;
reg [31:0] count;
always @(posedge clk)
begin
	count<=count+1;
	if(count==500000)
	begin
		count<=0;
		key1_reg1<=key1;
		key2_reg1<=key2;
		key3_reg1<=key3;
	end
	key1_reg2<=key1_reg1;
	key2_reg2<=key2_reg1;
	key3_reg2<=key3_reg1;
	
	key1_out <= key1_reg2 & (!key1_reg1);
	key2_out <= key2_reg2 & (!key2_reg1);
	key3_out <= key3_reg2 & (!key3_reg1);
end

endmodule
